<!-- Q1. Do the below programs in Anonymous Function & IIFE -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anonymous and IIFE Functions</title>
</head>

<body>
    <h1 style="text-align: center;">Anonymous and IIFE Functions</h1>
    <h3 style="text-align: center;">Check Console for Output</h3>
</body>

</html>
<script>
    // a. Print Odd numbers in any array
    const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

    // Anonymous Function
    let oddNum = function (arr) {
        console.log("Anonymous Function: Odd Numbers in an array");
        arr.forEach(element => {
            if (element % 2 !== 0) console.log(element);
        });
    }

    oddNum(numbers);
    /* Output
    Anonymous Function: Odd Numbers in an array
    1
    3
    5
    7
    9   */

    // IIFE Function
    (function (arr) {
        console.log("IIFE: Odd Numbers in an array");
        arr.forEach(element => {
            if (element % 2 !== 0) console.log(element);
        });
    })(numbers);

    /* Output
    IIFE: Odd Numbers in an array
    1
    3
    5
    7
    9   */


    // b. Convert all the strings to title caps in a string array
    let str = ["the quick", "brown fox jumps", "over", "the lazy dog."];
    let anonyTitleCapsArr = [];
    let iifeTitleCapsArr = [];

    // Anonymous Funtion: 
    let titleCaps = function (value) {
        console.log("Anonymous Function: Title Case String Array");
        value.forEach(element => {
            element = element.toLowerCase().split(' ');
            for (var i = 0; i < element.length; i++) {
                element[i] = element[i].charAt(0).toUpperCase() + element[i].slice(1);
            }
            element = element.join(' ');
            anonyTitleCapsArr.push(element);
        });
        console.log(anonyTitleCapsArr);
    }

    titleCaps(str);
    // Output:
    // Anonymous Function: Title Case String Array
    // ["The Quick", "Brown Fox Jumps", "Over", "The Lazy Dog."]


    // IIFE Function
    (function (arr) {
        console.log("IIFE: Title Case String Array");
        arr.forEach(element => {
            element = element.toLowerCase().split(' ');
            for (var i = 0; i < element.length; i++) {
                element[i] = element[i].charAt(0).toUpperCase() + element[i].slice(1);
            }
            element = element.join(' ');
            iifeTitleCapsArr.push(element);
        });
        console.log(iifeTitleCapsArr);
    })(str);

    // Output:
    // IIFE: Title Case String Array
    // ["The Quick", "Brown Fox Jumps", "Over", "The Lazy Dog."]


    // c. Sum of all numbers in an array
    let anonySum = 0;
    let iifeSum = 0;

    // Anonymous Funtion
    let add = function (arr) {
        arr.forEach(element => {
            anonySum += element;
        });
        console.log("Anonymous Funtion: Sum of all numbers in an array ", anonySum);
    }

    add(numbers); // Refer "numbers" array @ line 20
    // Output:
    // Anonymous Funtion: Sum of all numbers in an array 55

    // IIFE
    (function (arr) {
        arr.forEach(element => {
            iifeSum += element;
        });
        console.log("IIFE: Sum of all numbers in an array ", iifeSum);
    })(numbers); // Refer "numbers" array @ line 20

    // Output:
    // IIFE: Sum of all numbers in an array 55


    // d. Return all the prime numbers in an array

    let anonyPrimeArr = [];
    let iifePrimeArr = [];

    // Anonymous Function
    let isPrime = function (arr) {
        arr = arr.filter((value) => {
            if (value < 2) return false; // Condition for neglecting the numbers less than 2
            for (let i = 2; i <= Math.sqrt(value); i++) {
                if (value % i === 0) return false;
            }
            anonyPrimeArr.push(value);
        });
        console.log("Anonymous Function: Prime numbers in the given array ", anonyPrimeArr);
    }
    isPrime(numbers); // Refer "numbers" array @ line 20

    // Output
    // Anonymous Function: Prime numbers in the given array [2, 3, 5, 7]


    // IIFE
    (function (arr) {
        arr = arr.filter((value) => {
            if (value < 2) return false; // Condition for neglecting the numbers less than 2
            for (let i = 2; i <= Math.sqrt(value); i++) {
                if (value % i === 0) return false;
            }
            iifePrimeArr.push(value);
        });
        console.log("IIFE: Prime numbers in the given array ", iifePrimeArr);
    })(numbers); // Refer "numbers" array @ line 20

    // Output
    // IIFE: Prime numbers in the given array [2, 3, 5, 7]



    // e. Return all the palindromes in an array
    const words = ["Dwarak", 12321, "Madam", "noon", "Gvui", "Teacher", "racecar"];
    let anonyPalindromeWords = [];
    let iifePalindromeWords = [];

    // Anonymous Function
    let isPalindrome = function (arr) {
        arr.forEach(element => {
            let str = String(element).toLowerCase();
            // Added toLowerCase() to handles Title Case Words
            let i = 0;
            let j = str.length - 1;
            while (i < j) {
                if (str[i] === str[j]) {
                    i++;
                    j--;
                }
                else {
                    return false;
                }
            }
            anonyPalindromeWords.push(element);
        });
        console.log("Anonymous Function: Palindromes in the given array ", anonyPalindromeWords);
    };

    isPalindrome(words); // Refer "words" array @ Line 168

    // Output
    // Anonymous Function: Palindromes in the given array [12321, "Madam", "noon", "racecar"]

    // IIFE
    (function (arr) {
        arr.forEach(element => {
            let str = String(element).toLowerCase();
            // Added toLowerCase() to handles Title Case Words
            let i = 0;
            let j = str.length - 1;
            while (i < j) {
                if (str[i] === str[j]) {
                    i++;
                    j--;
                }
                else {
                    return false;
                }
            }
            iifePalindromeWords.push(element);
        });
        console.log("IIFE Function: Palindromes in the given array ", iifePalindromeWords);
    })(words); // Refer "words" array @ Line 168

    // Output
    // IIFE: Palindromes in the given array [12321, "Madam", "noon", "racecar"]



    // f. Return median of two sorted arrays of the same size.

    const numArray1 = [2, 16, 4, 18, 3];
    const numArray2 = [5, 1, 9, 10, 12];

    // Anonymous Function
    const median = function (arr1, arr2) {
        //Sort the array
        let sortedArr = [...arr1, ...arr2].sort((arr1, arr2) => arr1 - arr2);

        //Get the floor value
        const half = sortedArr.length / 2;

        //If even then return the average of two mid elements
        console.log("Anonymous Function: Median of the arrays", (sortedArr[half] + sortedArr[half - 1]) / 2);
    }

    median(numArray1, numArray2); // Refer "numArray1" & "numArray2" @ Line 226 & 227

    // Output
    // Anonymous Function: Median of the arrays 7


    // IIFE
    (function (arr1, arr2) {
        let sortedArr = [...arr1, ...arr2].sort((arr1, arr2) => arr1 - arr2); // Sort the array
        const half = sortedArr.length / 2; // Get the floor value
        console.log("IIFE Function: Median of the arrays", (sortedArr[half] + sortedArr[half - 1]) / 2); // If even then return the average of two mid elements
    })(numArray1, numArray2); // Refer "numArray1" & "numArray2" @ Line 226 & 227

    // Output
    // IIFE Function: Median of the arrays 7


    // Remove duplicates from an array
    const duplicatesArr = ["apple", "mango", "apple", "orange", "mango", "mango"];

    // Anonymous Function
    let removeDuplicates = function (arr) {
        console.log("Anonymous Function: Duplicates removed Array ", [...new Set(arr)]);
        // sets a new object that allows you to create collection of unique values.
    }

    removeDuplicates(duplicatesArr); // Refer "duplicatesArr" @ Line 259

    // Output
    // Anonymous Function: Duplicates removed Array ["apple", "mango", "orange"]

    // IIFE
    (function (arr) {
        console.log("IIFE: Duplicates removed Array ", [...new Set(arr)]);
        // sets a new object that allows you to create collection of unique values.
    })(duplicatesArr); // Refer "duplicatesArr" @ Line 259

    // Output
    // IIFE: Duplicates removed Array ["apple", "mango", "orange"]



    // h. Rotate an array by k times
    let anonyRotArr = [1, 2, 3, 4, 5];
    let iifeRotArr = [1, 2, 3, 4, 5];

    // Anonymous Function
    const rotateArray = function (nums, k) {
        for (let i = 0; i < k; i++) {
            nums.unshift(nums.pop());
        }
        console.log("Anonymous Function: Result after rotating array by", k, "times ", nums);
    }

    rotateArray(anonyRotArr, 2); // Refer "anonyRotArr" @ Line 284
    // Output
    // Anonymous Function: Result after rotating array by 2 times [4, 5, 1, 2, 3];


    // IIFE
    (function (nums, k) {
        for (let i = 0; i < k; i++) {
            nums.unshift(nums.pop());
        }
        console.log("IIFE: Result after rotating array by", k, "times ", nums);
    })(iifeRotArr, 2); // Refer "iifeRotArr" @ Line 285

    // Output
    // IIFE: Result after rotating array by 2 times [4, 5, 1, 2, 3];

</script>